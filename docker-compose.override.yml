# Docker Compose override for local development
# This file is automatically used by docker-compose to override the main configuration
services:
  did:
    environment:
      # Override these with your actual values for local development
      - MICROSOFT_CLIENT_ID=${MICROSOFT_CLIENT_ID:-##Insert GUID##}
      - MICROSOFT_CLIENT_SECRET=${MICROSOFT_CLIENT_SECRET:-##Insert Password##}
      - MICROSOFT_REDIRECT_URI=${MICROSOFT_REDIRECT_URI:-http://localhost:9001/auth/azuread-openidconnect/callback}
      - MICROSOFT_SCOPES=${MICROSOFT_SCOPES:-profile offline_access user.read user.read.all calendars.read mailboxsettings.readwrite}
      - SESSION_SIGNING_KEY=${SESSION_SIGNING_KEY:-##Insert Key##}
      - SESSION_NAME=${SESSION_NAME:-did.localhost}
      - AUTH_PROVIDERS=${AUTH_PROVIDERS:-azuread-openidconnect}
      - CLIENT_LOG_LEVEL=${CLIENT_LOG_LEVEL:-TRACE}
      - APOLLO_KEY=${APOLLO_KEY:-}
      - APOLLO_GRAPH_REF=${APOLLO_GRAPH_REF:-localhost}
      - API_TOKEN_SECRET=${API_TOKEN_SECRET:-}
      - WEBPACK_NOTIFICATIONS_SOUND=${WEBPACK_NOTIFICATIONS_SOUND:-growl}
      - FORK_TS_CHECKER_WEBPACK_PLUGIN_PROFILE=${FORK_TS_CHECKER_WEBPACK_PLUGIN_PROFILE:-1}
      - DISPLAY_VERSION_DETAILS=${DISPLAY_VERSION_DETAILS:-1}
    # Mount your local .env file if it exists
    volumes:
      - ./.env:/app/.env:ro